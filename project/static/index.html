<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PLYY</title>
    <link rel="stylesheet" href="../static/css/base.css"/>
</head>
<body>
    <div class="container">
        <div id="title"></div>
        <li id="plyyList"></li>
    </div>

    <script>        
        document.addEventListener('DOMContentLoaded', function() {
            fetchPlyy();
        });

        function fetchPlyy() {
            fetch('/api/')
            .then(response =>  response.json())
            .then(data => {
                const plyyList = document.getElementById('plyyList');
                data.forEach(plyy => {
                    const newItem = document.createElement('ul')
                    newItem.innerHTML = `<a href="/plyy/${plyy.plyy_uuid}">${plyy.plyy_title}</a>`
                    plyyList.appendChild(newItem);
                })
            })
            .catch(error => console.error('데이터를 처리하는 과정에서 오류가 발생하였습니다.'))
        };
    </script>
</body>
</html>